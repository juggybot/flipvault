{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andra\\\\Desktop\\\\code\\\\Bumble\\\\FlipVault0.1\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Container, Typography, Box } from '@mui/material';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { getProducts, createProduct, deleteProduct, scrapeProducts, scrapeProduct } from '../services/api';\nimport ProductForm from '../components/ProductForm';\nimport ProductList from '../components/ProductList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/products?skip=0&limit=10', {\n        credentials: 'include',\n        headers: {\n          'Authorization': 'Basic ' + btoa('juggy:Idus1234@@'),\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`Error: ${response.status} - ${errorData.detail}`);\n      }\n      const data = await response.json();\n      setProducts(data);\n    } catch (error) {\n      console.error('Fetch error:', error);\n    }\n  };\n  const handleCreateProduct = async product => {\n    const newProduct = await createProduct({\n      name: product.name,\n      image_url: product.imageUrl\n    });\n    if (newProduct) {\n      setProducts([...products, newProduct]);\n    } else {\n      alert('Error creating product');\n    }\n  };\n  const handleDeleteProduct = async productId => {\n    await deleteProduct(productId);\n    setProducts(products.filter(product => product.id !== productId));\n  };\n  const handleScrapeProducts = async () => {\n    const response = await scrapeProducts();\n    if (response.message === \"Scraper started in the background\") {\n      alert('Scraper started successfully');\n    } else {\n      alert('Error starting scraper');\n    }\n  };\n  const handleScrape = id => {\n    scrapeProduct(id);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductForm, {\n        onCreate: handleCreateProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleScrapeProducts,\n        style: {\n          marginTop: '20px',\n          marginBottom: '20px'\n        },\n        children: \"Run Scraper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        products: products,\n        onDelete: handleDeleteProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        products: products,\n        onScrape: handleScrape\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(AdminDashboard, \"rwdEIhEA6eGf1hAjKBA9Q7Z3x5g=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Button","Container","Typography","Box","createTheme","ThemeProvider","getProducts","createProduct","deleteProduct","scrapeProducts","scrapeProduct","ProductForm","ProductList","jsxDEV","_jsxDEV","AdminDashboard","_s","navigate","products","setProducts","fetchProducts","response","fetch","credentials","headers","btoa","ok","errorData","json","Error","status","detail","data","error","console","handleCreateProduct","product","newProduct","name","image_url","imageUrl","alert","handleDeleteProduct","productId","filter","id","handleScrapeProducts","message","handleScrape","children","display","flexDirection","alignItems","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onCreate","color","onClick","style","marginTop","marginBottom","onDelete","onScrape","_c","$RefreshReg$"],"sources":["C:/Users/andra/Desktop/code/Bumble/FlipVault0.1/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Container, Typography, Box } from '@mui/material';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { getProducts, createProduct, deleteProduct, scrapeProducts, scrapeProduct } from '../services/api';\r\nimport ProductForm from '../components/ProductForm';\r\nimport ProductList from '../components/ProductList';\r\n\r\nconst AdminDashboard = () => {\r\n    const navigate = useNavigate();\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:8000/products?skip=0&limit=10', {\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Authorization': 'Basic ' + btoa('juggy:Idus1234@@'),\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(`Error: ${response.status} - ${errorData.detail}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            setProducts(data);\r\n        } catch (error) {\r\n            console.error('Fetch error:', error);\r\n        }\r\n    };\r\n\r\n    const handleCreateProduct = async (product) => {\r\n        const newProduct = await createProduct({ name: product.name, image_url: product.imageUrl });\r\n        if (newProduct) {\r\n            setProducts([...products, newProduct]);\r\n        } else {\r\n            alert('Error creating product');\r\n        }\r\n    };\r\n\r\n    const handleDeleteProduct = async (productId) => {\r\n        await deleteProduct(productId);\r\n        setProducts(products.filter(product => product.id !== productId));\r\n    };\r\n\r\n    const handleScrapeProducts = async () => {\r\n        const response = await scrapeProducts();\r\n        if (response.message === \"Scraper started in the background\") {\r\n            alert('Scraper started successfully');\r\n        } else {\r\n            alert('Error starting scraper');\r\n        }\r\n    };\r\n\r\n    const handleScrape = (id) => {\r\n        scrapeProduct(id);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\r\n                <Typography variant=\"h2\" component=\"h1\" gutterBottom>\r\n                    Admin Dashboard\r\n                </Typography>\r\n                <ProductForm onCreate={handleCreateProduct} />\r\n                <Button \r\n                    variant=\"contained\" \r\n                    color=\"primary\" \r\n                    onClick={handleScrapeProducts} \r\n                    style={{ marginTop: '20px', marginBottom: '20px' }}\r\n                >\r\n                    Run Scraper\r\n                </Button>\r\n                <ProductList products={products} onDelete={handleDeleteProduct} />\r\n                <ProductList products={products} onScrape={handleScrape} />\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}